<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<html lang="en">
<!--add the head-->
<head>
    <meta charset="UTF-8">
    <title>View All Posts</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

</head>
<!--<nav th:include="navbar"></nav>-->
<body>
<div sec:authorize="isAuthenticated()">
    This content is only shown to authenticated users.

    User ID: <span th:text="${#authentication.principal.id}"/>
    Username: <span th:text="${#authentication.principal.username}"/>
    Email: <span th:text="${#authentication.principal.email}"/>
</div>
<a href="/posts/create"><h2>Create</h2></a>
<h1>Post Index</h1>
<!--<ul>-->
<!--    <li th:each${myPosts}></li>-->
<!--</ul>-->

    <div th:each="post : ${posts}">
        <a th:href="@{/posts/{id}(id=${post.id})}" th:value="${post.id}">
        <h1 th:text="${post.title}"></h1></a>

        <p th:text="${post.body}"></p>
    <button th:href="@{'/posts/' + ${post.id} + '/edit'}">Edit</button>
    </div>
</body>
</html>